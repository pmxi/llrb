<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive step-by-step visualizer for Left-Leaning Red-Black (LLRB) 2-3 trees. Learn tree rotations, insertions, and deletions with Sedgewick's algorithms.">
    <meta name="theme-color" content="#1a1a1a">

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="LLRB 2-3 Tree Visualizer">
    <meta property="og:description" content="Interactive visualizer for understanding Left-Leaning Red-Black trees with step-by-step algorithm execution">
    <meta property="og:url" content="https://pmxi.github.io/llrb">
    <meta property="og:type" content="website">

    <title>LLRB 2-3 Tree Visualizer</title>

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://d3js.org">

    <link rel="stylesheet" href="css/styles.css">
    <script src="https://d3js.org/d3.v7.min.js" defer></script>
    <script src="js/algorithms.js" defer></script>
    <script src="js/llrb.js" defer></script>
    <script src="js/visualizer.js" defer></script>
    <script src="js/pseudocode.js" defer></script>
    <script src="js/app.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Left-Leaning Red-Black Tree Visualizer</h1>
            <p>A visual guide to understanding LLRB 2-3 tree operations</p>
        </header>

        <div class="main-content">
            <!-- Left Panel: Tree Visualization -->
            <div class="panel tree-panel">
                <div class="tree-header">
                    <h2>Tree Visualization</h2>
                    <button id="reset-view-btn" class="reset-view-btn">Reset View</button>
                </div>
                <svg id="tree-svg"></svg>
            </div>

            <!-- Right Panel: Pseudocode -->
            <div class="panel pseudocode-panel">
                <div class="pseudocode-header">
                    <h2>Algorithm Execution</h2>
                    <div class="step-controls">
                        <div class="step-buttons">
                            <button id="step-start-btn" class="step-btn" disabled>⏮ Start</button>
                            <button id="step-back-btn" class="step-btn" disabled>← Back</button>
                            <button id="play-pause-btn" class="step-btn" disabled>▶ Play</button>
                            <button id="step-forward-btn" class="step-btn" disabled>Forward →</button>
                            <button id="step-end-btn" class="step-btn" disabled>⏭ End</button>
                        </div>
                        <div class="step-scrubber">
                            <input type="range" id="step-slider" min="1" max="1" value="1" disabled />
                            <div class="step-meta">
                                <span id="step-label">Step 0 / 0</span>
                                <span class="shortcut-hint">Space: Play/Pause • ←/→: Step</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="step-summary" class="step-summary info-text">Run an operation to see each step.</div>
                <div id="pseudocode-display">
                    <p class="info-text">Perform an operation to see the algorithm execution</p>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="control-group">
                <h3>Operations</h3>
                <div class="operation-controls">
                    <div class="operation-row">
                        <span class="op-name">insert(</span>
                        <input type="number" id="insert-input" class="op-input" placeholder="value" />
                        <span class="op-name">)</span>
                        <button id="insert-go-btn" class="go-btn">→</button>
                    </div>
                    <div class="operation-row">
                        <span class="op-name">delete(</span>
                        <input type="number" id="delete-input" class="op-input" placeholder="value" />
                        <span class="op-name">)</span>
                        <button id="delete-go-btn" class="go-btn">→</button>
                    </div>
                    <div class="operation-row">
                        <span class="op-name">deleteMin()</span>
                        <button id="delete-min-go-btn" class="go-btn">→</button>
                    </div>
                    <button id="clear-btn">Clear Tree</button>
                </div>
            </div>

            <div class="control-group">
                <h3>Tree Statistics</h3>
                <div id="tree-stats">
                    <span>Nodes: <strong id="node-count">0</strong></span>
                    <span>Height: <strong id="tree-height">0</strong></span>
                    <span id="operation-status"></span>
                </div>
            </div>
        </div>

        <!-- About Section -->
        <footer class="about-section">
            <p>
                Based on Robert Sedgewick's Left-Leaning Red-Black Trees.
                See <a href="https://algs4.cs.princeton.edu/33balanced/" target="_blank">Algorithms, 4th Edition</a>
                and <a href="https://sedgewick.io/wp-content/themes/sedgewick/papers/2008LLRB.pdf" target="_blank">Sedgewick's LLRB paper (2008)</a>
                for more details.
            </p>
        </footer>
    </div>
</body>
</html>
